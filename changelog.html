<html>
  <head>
    <title>Wigo4it Tech Radar | Changelog</title>

    <link rel="stylesheet" href="radar.css">
    <link href='https://fonts.googleapis.com/css?family=Raleway' rel='stylesheet'>
  </head>

  <body>
    <div class="center-box">
      <img src="wigo4it-logo.svg" alt="Wigo4it logo">
      <h1>Tech Radar</h1>
    </div>

    <div class="center-box">
      <div id="changelog" class="column">
        <h2>Changelog</h2>
      </div>
  </body>

  <script>
    const changelog = document.getElementById('changelog');

    fetch("/versions/versions.json")
        .then(response => response.json())
        .then(data => {
          data.sort((a, b) => a.version < b.version ? 1 : -1);

          for (d of data) {
            const h = document.createElement('h3');
            const a = document.createElement('a');
            a.setAttribute('href', d.version === data[0].version ? '/' :  `/?version=${d.version}`);
            a.append(document.createTextNode(d.title));
            h.appendChild(a);

            const p = document.createElement('p');
            p.append(document.createTextNode(d.description));

            changelog.appendChild(h);
            changelog.appendChild(p);
          }
        });
  </script>
</html>
